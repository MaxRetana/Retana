<div class="table-responsive">
  <table class="table table-striped table-hover mx-auto w-50 shadow border border-dark border-2 bg-light text-dark">
    <thead class="bg-primary text-white">
      <tr>
        <th>Arquitecto</th>
        <th>Obra</th>
        <th>Fecha</th>
        <th>Cantidad</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <% @anticipos.each do |anticipo| %>
        <tr>
          <td><%= anticipo.arquitecto.nombre %></td>
          <td><%= anticipo.obra.nombre %></td>
          <% 
            fecha = Date.parse(anticipo.fecha)
            meses_espanol = {
              1 => 'enero',
              2 => 'febrero',
              3 => 'marzo',
              4 => 'abril',
              5 => 'mayo',
              6 => 'junio',
              7 => 'julio',
              8 => 'agosto',
              9 => 'septiembre',
              10 => 'octubre',
              11 => 'noviembre',
              12 => 'diciembre'
            }
            fecha_formateada = fecha.strftime('%d DE ' + meses_espanol[fecha.month].upcase + ' DEL %Y') 
          %>
          <td><%= fecha_formateada %></td>
          <td><%= anticipo.cantidad %></td>
          <td>
            <%= link_to 'Generar PDF', generar_pdf_path(anticipo_id: anticipo.id, format: :pdf), class: 'btn btn-primary', target: '_blank' %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>